<!doctype html><html lang=en class="js csstransforms3d">
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=generator content="Hugo 0.88.0">
<meta name=description content="gohper">
<meta name=author content="axlrose">
<link rel=icon href=/images/favicon.png type=image/png>
<title>Type :: Axlrose's blog</title>
<link href=/css/nucleus.css?1698400042 rel=stylesheet>
<link href=/css/fontawesome-all.min.css?1698400042 rel=stylesheet>
<link href=/css/hybrid.css?1698400042 rel=stylesheet>
<link href=/css/featherlight.min.css?1698400042 rel=stylesheet>
<link href=/css/perfect-scrollbar.min.css?1698400042 rel=stylesheet>
<link href=/css/auto-complete.css?1698400042 rel=stylesheet>
<link href=/css/atom-one-dark.min.css?1698400042 rel=stylesheet>
<link href=/css/theme.css?1698400042 rel=stylesheet>
<link href=/css/hugo-theme.css?1698400042 rel=stylesheet>
<link href=/css/theme-blue.css?1698400042 rel=stylesheet>
<script src=/js/jquery-3.3.1.min.js?1698400042></script>
<style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style>
</head>
<body data-url=/golang/type/>
<nav id=sidebar class=showVisitedLinks>
<div id=header-wrapper>
<div id=header>
<a id=logo href=/>
<img src=/images/logo.png height=40px>&emsp;<span style=font-size:36px;color:#fff>Axlrose</span>
</a>
</div>
<div class=searchbox>
<label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span>
</div>
<script type=text/javascript src=/js/lunr.min.js?1698400042></script>
<script type=text/javascript src=/js/auto-complete.js?1698400042></script>
<script type=text/javascript>var baseurl="http://echotrue.github.io/"</script>
<script type=text/javascript src=/js/search.js?1698400042></script>
</div>
<div class=highlightable>
<ul class=topics>
<li data-nav-id=/golang/ title=Golang class="dd-item
parent">
<a href=/golang/>
<b>1. </b>Golang
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/golang/context/ title=Context class=dd-item>
<a href=/golang/context/>
Context
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/array-slice/ title="Array And Slice" class=dd-item>
<a href=/golang/array-slice/>
Array And Slice
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/uint-int/ title="Uint Int" class=dd-item>
<a href=/golang/uint-int/>
Uint Int
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/functional-programming-in-golang/ title="Functional Programming in Golang" class=dd-item>
<a href=/golang/functional-programming-in-golang/>
Functional Programming in Golang
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/binary-an-bit-operation/ title="Binary an Bit Operation" class=dd-item>
<a href=/golang/binary-an-bit-operation/>
Binary an Bit Operation
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/lock/ title=Lock class=dd-item>
<a href=/golang/lock/>
Lock
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/make-and-new/ title="Golang make and new" class=dd-item>
<a href=/golang/make-and-new/>
Golang make and new
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/panic-and-recover/ title="Panic and Recover" class=dd-item>
<a href=/golang/panic-and-recover/>
Panic and Recover
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/golang-select/ title="Golang Select" class=dd-item>
<a href=/golang/golang-select/>
Golang Select
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/addressable/ title="Addressable and Unaddressable-Value" class=dd-item>
<a href=/golang/addressable/>
Addressable and Unaddressable-Value
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/block-forever-in-go/ title="Block forever in go" class=dd-item>
<a href=/golang/block-forever-in-go/>
Block forever in go
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/channel/ title="Golang channel" class=dd-item>
<a href=/golang/channel/>
Golang channel
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/data-races/ title="Golang Data Races" class=dd-item>
<a href=/golang/data-races/>
Golang Data Races
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/log/ title=Log class=dd-item>
<a href=/golang/log/>
Log
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/sqlx/ title=Sqlx class=dd-item>
<a href=/golang/sqlx/>
Sqlx
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/struct-interface/ title="Struct Interface" class=dd-item>
<a href=/golang/struct-interface/>
Struct Interface
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/golang/type/ title=Type class="dd-item active">
<a href=/golang/type/>
Type
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/algorithm/ title=Algorithm class=dd-item>
<a href=/algorithm/>
<b>2. </b>Algorithm
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/algorithm/golang-search-slice/ title="Golang Search Slice" class=dd-item>
<a href=/algorithm/golang-search-slice/>
Golang Search Slice
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/black-hat-go/ title="Black Hat Go" class=dd-item>
<a href=/black-hat-go/>
<b>3. </b>Black Hat Go
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/black-hat-go/tcp/ title=Tcp class=dd-item>
<a href=/black-hat-go/tcp/>
Tcp
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/game/ title=Game class=dd-item>
<a href=/game/>
<b>4. </b>Game
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/game/nano/ title="Nano Server" class=dd-item>
<a href=/game/nano/>
Nano Server
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/game/nano/nano-start/ title="Nano Start" class=dd-item>
<a href=/game/nano/nano-start/>
Nano Start
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/game/nano/one-nano-request/ title="One Nano Request" class=dd-item>
<a href=/game/nano/one-nano-request/>
One Nano Request
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/game/nano/nano/ title=Nano class=dd-item>
<a href=/game/nano/nano/>
Nano
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/game/nano/nano-binary-protocol/ title="Nano Binary Protocol" class=dd-item>
<a href=/game/nano/nano-binary-protocol/>
Nano Binary Protocol
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/game/combat-system/ title="Combat System" class=dd-item>
<a href=/game/combat-system/>
Combat System
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/game/game-vocabulary-list/ title="Game Vocabulary List" class=dd-item>
<a href=/game/game-vocabulary-list/>
Game Vocabulary List
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/game/turn-based-game-with-go/ title="Turn-Based Game With Go【译】" class=dd-item>
<a href=/game/turn-based-game-with-go/>
Turn-Based Game With Go【译】
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/sql/ title=Sql class=dd-item>
<a href=/sql/>
<b>5. </b>Sql
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/read/ title=Read class=dd-item>
<a href=/read/>
<b>6. </b>Read
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/read/read-vssh/ title="Read Vssh" class=dd-item>
<a href=/read/read-vssh/>
Read Vssh
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/basics/ title=Basics class=dd-item>
<a href=/basics/>
<b>X. </b>Basics
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/basics/requirements/ title=Requirements class=dd-item>
<a href=/basics/requirements/>
Requirements
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/basics/installation/ title=Installation class=dd-item>
<a href=/basics/installation/>
Installation
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/basics/configuration/ title=Configuration class=dd-item>
<a href=/basics/configuration/>
Configuration
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/basics/style-customization/ title="Style customization" class=dd-item>
<a href=/basics/style-customization/>
Style customization
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/cont/ title=Content class=dd-item>
<a href=/cont/>
<b>Y. </b>Content
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/cont/pages/ title="Pages organization" class=dd-item>
<a href=/cont/pages/>
Pages organization
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/cont/archetypes/ title=Archetypes class=dd-item>
<a href=/cont/archetypes/>
Archetypes
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/cont/markdown/ title="Markdown syntax" class=dd-item>
<a href=/cont/markdown/>
Markdown syntax
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/cont/syntaxhighlight/ title="Code highlighting" class=dd-item>
<a href=/cont/syntaxhighlight/>
Code highlighting
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/cont/menushortcuts/ title="Menu extra shortcuts" class=dd-item>
<a href=/cont/menushortcuts/>
Menu extra shortcuts
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/cont/icons/ title="Icons and logos" class=dd-item>
<a href=/cont/icons/>
Icons and logos
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/cont/i18n/ title="Multilingual and i18n" class=dd-item>
<a href=/cont/i18n/>
Multilingual and i18n
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/cont/tags/ title=Tags class=dd-item>
<a href=/cont/tags/>
Tags
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/shortcodes/ title=Shortcodes class=dd-item>
<a href=/shortcodes/>
<b>Z. </b>Shortcodes
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/shortcodes/attachments/ title=Attachments class=dd-item>
<a href=/shortcodes/attachments/>
Attachments
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/shortcodes/button/ title=Button class=dd-item>
<a href=/shortcodes/button/>
Button
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/shortcodes/children/ title=Children class=dd-item>
<a href=/shortcodes/children/>
Children
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/shortcodes/children/children-1/ title="page 1" class=dd-item>
<a href=/shortcodes/children/children-1/>
page 1
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/shortcodes/children/children-1/children-1-1/ title="page 1-1" class=dd-item>
<a href=/shortcodes/children/children-1/children-1-1/>
page 1-1
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/shortcodes/children/children-1/children-1-1/children-1-1-1/ title="page 1-1-1" class=dd-item>
<a href=/shortcodes/children/children-1/children-1-1/children-1-1-1/>
page 1-1-1
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/ title="page 1-1-1-1" class=dd-item>
<a href=/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/>
page 1-1-1-1
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/children-1-1-1-1-1/ title="page 1-1-1-1-1" class=dd-item>
<a href=/shortcodes/children/children-1/children-1-1/children-1-1-1/children-1-1-1-1/children-1-1-1-1-1/>
page 1-1-1-1-1
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li data-nav-id=/shortcodes/children/children-2/ title="page 2" class=dd-item>
<a href=/shortcodes/children/children-2/>
page 2
<i class="fas fa-check read-icon"></i>
</a>
<ul>
<li data-nav-id=/shortcodes/children/children-2/test3/ title="page test 3" class=dd-item>
<a href=/shortcodes/children/children-2/test3/>
page test 3
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/shortcodes/children/children-3/ title="page 3" class=dd-item>
<a href=/shortcodes/children/children-3/>
page 3
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/shortcodes/children/test/ title="page test" class=dd-item>
<a href=/shortcodes/children/test/>
page test
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
<li data-nav-id=/shortcodes/expand/ title=Expand class=dd-item>
<a href=/shortcodes/expand/>
Expand
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/shortcodes/mermaid/ title=Mermaid class=dd-item>
<a href=/shortcodes/mermaid/>
Mermaid
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/shortcodes/notice/ title=Notice class=dd-item>
<a href=/shortcodes/notice/>
Notice
<i class="fas fa-check read-icon"></i>
</a>
</li>
<li data-nav-id=/shortcodes/siteparam/ title="Site param" class=dd-item>
<a href=/shortcodes/siteparam/>
Site param
<i class="fas fa-check read-icon"></i>
</a>
</li>
</ul>
</li>
</ul>
<section id=shortcuts>
<h3>More</h3>
<ul>
<li>
<a class=padding href=http://echotrue.github.io/book><i class="fas fa-solid fa-book-open"></i> Book list</a>
</li>
<li>
<a class=padding href=http://echotrue.github.io/tags><i class="fas fa-tags"></i> Tags list</a>
</li>
<li>
<a class=padding href=http://echotrue.github.io/about><i class="fas fa-fw fa-camera"></i> About me</a>
</li>
<li>
<a class=padding href=https://github.com/matcornic/hugo-theme-learn><i class="fab fa-fw fa-github"></i> GitHub repo</a>
</li>
<li>
<a class=padding href=https://gohugo.io/><i class="fas fa-fw fa-bookmark"></i> Hugo Documentation</a>
</li>
</ul>
</section>
<section id=prefooter>
<hr>
<ul>
<li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li>
</ul>
</section>
<section id=footer>
<center>
<p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p>
<p>Axlrose ©2012-<script>document.write((new Date).getFullYear())</script></p>
</center>
<script async defer src=https://buttons.github.io/buttons.js></script>
</section>
</div>
</nav>
<section id=body>
<div id=overlay></div>
<div class="padding highlightable">
<div>
<div id=top-bar>
<div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb>
<span id=sidebar-toggle-span>
<a href=# id=sidebar-toggle data-sidebar-toggle>
<i class="fas fa-bars"></i>
</a>
</span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links>
<a href=/>Axlrose</a> > <a href=/golang/>Golang</a> > Type
</span>
</div>
<div class=progress>
<div class=wrapper>
<nav id=TableOfContents></nav>
</div>
</div>
</div>
</div>
<div id=head-tags>
</div>
<div id=body-inner>
<h1>
Type
</h1>
<p>处理接口值时,变量的"动态类型"很重要.动态类型定义如下(<a href=http://golang.org/ref/spec#Types>源</a>):</p>
<blockquote>
<p>变量的静态类型(或仅仅类型)是其声明定义的类型.**接口类型的变量也有一个不同的动态类型,它是运行时存储在变量中的值的实际类型.**动态类型可能在执行期间有所不同,但始终可分配给接口变量的静态类型.对于非接口类型,动态类型始终是静态类型.</p>
</blockquote>
<p>考虑这个例子:</p>
<pre tabindex=0><code>var someValue interface{} = 2
</code></pre><p>静态类型<code>someValue</code>是<code>interface{}</code>动态类型,<code>int</code>并且可能在未来很好地改变.例:</p>
<pre tabindex=0><code>var someValue interface{} = 2

someValue = &quot;foo&quot;
</code></pre><p>在上面的示例中,动态类型从<code>someValue</code>更改<code>int</code>为<code>string</code>.</p>
<p>Slice，Map，函数三种引用类型以及含有以上三种类型的结构体和数组不能直接用==比较，只能用reflect.deepEqual进行比较。</p>
<p>channel可以用==比较，且只有两个通道是由同一个 make 创建才相等;</p>
<p>接口可以用==比较，且只有两个接口具有相同的动态类型和动态值两者才相等；并且当 interface 与非 interface 比较时，会将非interface 转换成 interface，然后再按照 两个 interface 比较 的规则进行比较；接口的动态类型和动态值都为nil，接口才是nil。</p>
<p>结构体和数组作为复合类型，能否比较以其内部的元素是否能比较决定，且数组要求长度相同。</p>
<p>空结构体不可相互比较：</p>
<p>若逃逸到堆上，空结构体则默认分配的是 runtime.zerobase 变量，是专门用于分配到堆上的 0 字节基础地址。因此两个空结构体都是 runtime.zerobase，一比较当然就是 true 了。</p>
<p>若没有发生逃逸，也就分配到栈上，在 Go 编译器的代码优化阶段，会对其进行优化，直接返回 false。并没有比较的意义了。
————————————————
版权声明：本文为CSDN博主「傅里叶、」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/qq_34562093/article/details/120981451</p>
<footer class=footline>
</footer>
</div>
</div>
<div id=navigation>
<a class="nav nav-prev" href=/golang/struct-interface/ title="Struct Interface"> <i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/algorithm/ title=Algorithm style=margin-right:0><i class="fa fa-chevron-right"></i></a>
</div>
</section>
<div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px>
<div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div>
</div>
<script src=/js/clipboard.min.js?1698400042></script>
<script src=/js/perfect-scrollbar.min.js?1698400042></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1698400042></script>
<script src=/js/jquery.sticky.js?1698400042></script>
<script src=/js/featherlight.min.js?1698400042></script>
<script src=/js/highlight.pack.js?1698400042></script>
<script>hljs.initHighlightingOnLoad()</script>
<script src=/js/modernizr.custom-3.6.0.js?1698400042></script>
<script src=/js/learn.js?1698400042></script>
<script src=/js/hugo-learn.js?1698400042></script>
<link href=/mermaid/mermaid.css?1698400042 rel=stylesheet>
<script src=/mermaid/mermaid.js?1698400042></script>
<script>mermaid.initialize({startOnLoad:!0})</script>
<script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-105947713-1','auto'),ga('send','pageview')</script>
</body>
</html>